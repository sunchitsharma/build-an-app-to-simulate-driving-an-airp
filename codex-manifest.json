{"files": [{"path": "index.html", "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>A380 Cockpit Drive</title>\n  <style>\n    html, body {\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      background: #0b1d2a;\n      font-family: Arial, sans-serif;\n      color: #eef2f5;\n      user-select: none;\n    }\n    #ui {\n      position: absolute;\n      top: 10px;\n      left: 10px;\n      background: rgba(0, 0, 0, 0.4);\n      padding: 10px 12px;\n      border-radius: 8px;\n      font-size: 14px;\n      line-height: 1.4;\n      z-index: 10;\n    }\n    canvas {\n      display: block;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"ui\">\n    <div><strong>Controls:</strong> ← → steer | ↑ accelerate | ↓ brake</div>\n    <div id=\"speed\">Speed: 0 km/h</div>\n    <div id=\"status\"></div>\n  </div>\n  <canvas id=\"c\"></canvas>\n  <script>\n    const canvas = document.getElementById('c');\n    const ctx = canvas.getContext('2d');\n    let w = window.innerWidth;\n    let h = window.innerHeight;\n    canvas.width = w;\n    canvas.height = h;\n\n    window.addEventListener('resize', () => {\n      w = window.innerWidth;\n      h = window.innerHeight;\n      canvas.width = w;\n      canvas.height = h;\n    });\n\n    const plane = {\n      x: 0,\n      width: 1.2, // lane units\n      speed: 0,\n    };\n\n    const road = {\n      laneCount: 3,\n      laneWidth: 1.5, // world units\n      widthWorld() { return this.laneCount * this.laneWidth; }\n    };\n\n    const obstacles = [];\n    let spawnTimer = 0;\n\n    const state = {\n      keys: {},\n      maxSpeed: 220 / 3.6, // m/s\n      accel: 4.0,\n      brake: 7.0,\n      friction: 1.5,\n      steerSpeed: 2.2, // world units per sec\n      gameOver: false,\n    };\n\n    function reset() {\n      plane.x = 0;\n      plane.speed = 0;\n      obstacles.length = 0;\n      spawnTimer = 0;\n      state.gameOver = false;\n      document.getElementById('status').textContent = '';\n    }\n    reset();\n\n    window.addEventListener('keydown', (e) => {\n      state.keys[e.key] = true;\n      if (state.gameOver && e.key === ' ') reset();\n    });\n    window.addEventListener('keyup', (e) => {\n      state.keys[e.key] = false;\n    });\n\n    function update(dt) {\n      if (state.gameOver) return;\n      // speed control\n      if (state.keys['ArrowUp']) plane.speed += state.accel * dt;\n      if (state.keys['ArrowDown']) plane.speed -= state.brake * dt;\n      if (!state.keys['ArrowUp'] && !state.keys['ArrowDown']) {\n        if (plane.speed > 0) plane.speed = Math.max(0, plane.speed - state.friction * dt);\n      }\n      plane.speed = Math.max(0, Math.min(state.maxSpeed, plane.speed));\n\n      // steering\n      const steerDir = (state.keys['ArrowLeft'] ? -1 : 0) + (state.keys['ArrowRight'] ? 1 : 0);\n      plane.x += steerDir * state.steerSpeed * dt;\n      const halfRoad = (road.widthWorld() / 2) - (plane.width / 2) - 0.1;\n      if (plane.x < -halfRoad) plane.x = -halfRoad;\n      if (plane.x > halfRoad) plane.x = halfRoad;\n\n      // move world (z axis decreases as we move forward)\n      for (const o of obstacles) {\n        o.z -= plane.speed * dt;\n      }\n      // remove passed\n      for (let i = obstacles.length - 1; i >= 0; i--) {\n        if (obstacles[i].z < -5) obstacles.splice(i, 1);\n      }\n\n      // spawn\n      spawnTimer -= dt;\n      if (spawnTimer <= 0) {\n        spawnTimer = 1.2 + Math.random() * 1.2;\n        const lane = Math.floor(Math.random() * road.laneCount) - Math.floor(road.laneCount / 2);\n        obstacles.push({ lane, z: 300 + Math.random() * 120, width: 1.0, depth: 6 });\n      }\n\n      // collision (simple)\n      for (const o of obstacles) {\n        if (Math.abs(plane.x - o.lane * road.laneWidth) < (plane.width / 2 + o.width / 2) && o.z < 8 && o.z > -1) {\n          state.gameOver = true;\n          document.getElementById('status').textContent = 'Collision! Press Space to reset.';\n        }\n      }\n\n      document.getElementById('speed').textContent = `Speed: ${(plane.speed * 3.6).toFixed(0)} km/h`;\n    }\n\n    function projectPoint(xWorld, zWorld) {\n      const cameraHeight = 2.0;\n      const fov = 90;\n      const perspective = 1 / Math.max(0.0001, (zWorld + cameraHeight) * 0.02);\n      const screenX = w / 2 + xWorld * road.laneWidth * perspective * 60;\n      const screenY = h * 0.85 - zWorld * 0.8;\n      return { x: screenX, y: screenY, scale: perspective };\n    }\n\n    function drawSky() {\n      const grd = ctx.createLinearGradient(0, 0, 0, h);\n      grd.addColorStop(0, '#123b5a');\n      grd.addColorStop(1, '#0b1d2a');\n      ctx.fillStyle = grd;\n      ctx.fillRect(0, 0, w, h);\n    }\n\n    function drawRunway() {\n      const bottomWidth = w * 0.9;\n      const topWidth = w * 0.25;\n      const horizonY = h * 0.35;\n      const bottomY = h;\n      ctx.fillStyle = '#2c2c2c';\n      ctx.beginPath();\n      ctx.moveTo((w - bottomWidth) / 2, bottomY);\n      ctx.lineTo((w + bottomWidth) / 2, bottomY);\n      ctx.lineTo((w + topWidth) / 2, horizonY);\n      ctx.lineTo((w - topWidth) / 2, horizonY);\n      ctx.closePath();\n      ctx.fill();\n\n      // center lines perspective\n      ctx.strokeStyle = '#f8f8f8';\n      ctx.lineWidth = 2;\n      ctx.setLineDash([20, 20]);\n      ctx.beginPath();\n      ctx.moveTo(w / 2, bottomY);\n      ctx.lineTo(w / 2, horizonY);\n      ctx.stroke();\n      ctx.setLineDash([]);\n\n      // lane markers\n      ctx.strokeStyle = '#d5d5d5';\n      ctx.lineWidth = 1.5;\n      const lanes = road.laneCount;\n      for (let i = 1; i < lanes; i++) {\n        const t = i / lanes;\n        const xBottom = (w - bottomWidth) / 2 + bottomWidth * t;\n        const xTop = (w - topWidth) / 2 + topWidth * t;\n        ctx.setLineDash([16, 16]);\n        ctx.beginPath();\n        ctx.moveTo(xBottom, bottomY);\n        ctx.lineTo(xTop, horizonY);\n        ctx.stroke();\n        ctx.setLineDash([]);\n      }\n    }\n\n    function drawObstacles() {\n      for (const o of obstacles) {\n        const proj = projectPoint(o.lane * road.laneWidth, o.z);\n        const size = 40 * proj.scale + 10;\n        ctx.fillStyle = '#ff5757';\n        ctx.strokeStyle = '#ffb5b5';\n        ctx.lineWidth = 2;\n        ctx.fillRect(proj.x - size / 2, proj.y - size, size, size * 1.2);\n        ctx.strokeRect(proj.x - size / 2, proj.y - size, size, size * 1.2);\n      }\n    }\n\n    function drawCockpit() {\n      ctx.save();\n      ctx.fillStyle = '#1a1f2b';\n      ctx.fillRect(0, h * 0.65, w, h * 0.35);\n\n      // window frame\n      ctx.strokeStyle = '#1f2f4f';\n      ctx.lineWidth = 18;\n      ctx.strokeRect(30, 30, w - 60, h * 0.6);\n\n      // left and right window dividers\n      ctx.lineWidth = 8;\n      ctx.beginPath();\n      ctx.moveTo(w * 0.35, 30);\n      ctx.lineTo(w * 0.45, h * 0.65);\n      ctx.moveTo(w * 0.65, 30);\n      ctx.lineTo(w * 0.55, h * 0.65);\n      ctx.stroke();\n\n      // dashboard\n      ctx.fillStyle = '#1c2633';\n      ctx.fillRect(0, h * 0.78, w, h * 0.22);\n\n      // BA livery stripes\n      ctx.fillStyle = '#002f6c';\n      ctx.fillRect(0, h * 0.78, w, 18);\n      ctx.fillStyle = '#ba0c2f';\n      ctx.fillRect(0, h * 0.79, w, 8);\n\n      // British Airways logo text\n      ctx.fillStyle = '#e6e6e6';\n      ctx.font = '18px sans-serif';\n      ctx.fillText('British Airways | Airbus A380 Cockpit', 18, h * 0.76);\n\n      // simple instruments\n      ctx.fillStyle = '#0d1118';\n      ctx.fillRect(w * 0.35, h * 0.82, w * 0.3, h * 0.12);\n      ctx.strokeStyle = '#2f80ed';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(w * 0.35, h * 0.82, w * 0.3, h * 0.12);\n      ctx.fillStyle = '#7cf3ff';\n      ctx.font = '16px monospace';\n      ctx.fillText('SPD ' + (plane.speed * 3.6).toFixed(0) + ' KT', w * 0.37, h * 0.85);\n      ctx.fillText('HDG ' + (plane.x * 10).toFixed(0) + '°', w * 0.37, h * 0.88);\n      ctx.fillText('ALT 000', w * 0.37, h * 0.91);\n\n      ctx.restore();\n    }\n\n    let last = performance.now();\n    function loop(t) {\n      const dt = Math.min(0.033, (t - last) / 1000);\n      last = t;\n      update(dt);\n      ctx.clearRect(0, 0, w, h);\n      drawSky();\n      drawRunway();\n      drawObstacles();\n      drawCockpit();\n      requestAnimationFrame(loop);\n    }\n    requestAnimationFrame(loop);\n  </script>\n</body>\n</html>\n"}]}